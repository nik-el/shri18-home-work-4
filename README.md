# shri18-home-work
## ШРИ2018/2 - ДЗ «Node.js»

### Запуск
```
npm i
npm start
```
По умолчанию сервер поднимается на `8000` порту. 

Для указания иного порта (например 3000) достаточно указать его через переменную PORT
 ```
 PORT=3000 npm start
 ```

### Тесты (`ESLint`)
```
npm test
```

### Описание сервера
Сервер поддерживает всю функциональность из базового задания
- POST запрос на `/api/status` возвращает время, прошедшее с начала запуска сервера в формате hh:mm:ss
- POST запрос на `/api/events` возвращает все события
- POST запрос на остальные адреса выдает ошибку 404 
- POST запрос с параметрами `/api/events/?type=critical` возвращает отфильтрованные события по заданному типу. Возможен запрос несколько типов через символ `:` (`type=critical:info`)
- POST запрос с некорректным типом `/api/events/?type=warning` выбрасывает ошибку 400
- POST запрос с остальными параметрами (не `type`) возвращает все события
- POST запрос на `/api/link/read` возвращает последнюю ссылку
- POST запрос с параметром на `/api/link/save?link=index.html` сохраняет ссылку

#### Дополнительные задания
- Запросы через POST
- Сервер прикручен к шаблонизатору из первого задания. Для проверки необходимо скачать репозиторий с [этой ветки](https://github.com/nik-el/shri18-home-work-1/tree/HW-1-adaptvie) и запустить. Данные к шаблонизатору будут приходить от текущего сервера 
```
npm i
npm start
```
- Сделана пагинация. Доступна два параметра: `limit` и `offset`. `limit` задает кол-во элементов, которе необходимо получить за один запрос, а `offset` - шаг смещения.
Примеры адресов для POST запроса:
```
/api/events?limit=2&offset=1 // вернет 3 и 4 элемент
/api/events?limit=2 // вернет 1 и 2 элемент (равнозачно тому, что offset = 0)
/api/events?limit=3&offset=1&type=info:critical // вернет с 4 по 6 элемент с типом info и critical 
```